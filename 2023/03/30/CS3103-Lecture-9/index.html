<!DOCTYPE html><html lang="zh-HK"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="File Concept">
<meta property="og:type" content="article">
<meta property="og:title" content="CS3103-Lecture-9">
<meta property="og:url" content="https://lemonkai.github.io/2023/03/30/CS3103-Lecture-9/index.html">
<meta property="og:site_name" content="KAI Blog">
<meta property="og:description" content="File Concept">
<meta property="og:locale" content="zh_HK">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330161548.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330161900.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330161944.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330162131.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330162440.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330162657.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330162713.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330163347.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330163538.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330163449.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330163552.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330164007.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330164554.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170020.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170059.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170126.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170313.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170820.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330171007.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330171239.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330171542.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330171652.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172200.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172359.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172809.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172827.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172845.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173012.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173155.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173242.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173516.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173849.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230406154351.png">
<meta property="og:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230406154517.png">
<meta property="article:published_time" content="2023-03-30T07:44:36.000Z">
<meta property="article:modified_time" content="2023-04-06T07:45:21.157Z">
<meta property="article:author" content="KAI">
<meta property="article:tag" content="CS3103">
<meta property="article:tag" content="Operating System">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/LemonKAI/image/main/20230330161548.png"><title>CS3103-Lecture-9 | KAI Blog</title><link ref="canonical" href="https://lemonkai.github.io/2023/03/30/CS3103-Lecture-9/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":false,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"複製","copySuccess":"複製成功","copyError":"複製失敗"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner header-inner--height header-inner--bgcolor"><nav class="header-nav header-nav--sticky"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首頁</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">歸檔</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分類</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">標籤</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">CS3103-Lecture-9</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">發表於</span><span class="post-meta-item__value">2023-03-30</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新於</span><span class="post-meta-item__value">2023-04-06</span></span></div></header><div class="post-body">
        <h1 id="File-Concept"   >
          <a href="#File-Concept" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-Concept" class="headerlink" title="File Concept"></a>File Concept</h1>
      <span id="more"></span>
<ul>
<li><p>File is a contiguous logical address space for storing information</p>
<ul>
<li>database, audio, video, web pages…</li>
</ul>
</li>
<li><p>There are different types of file</p>
<ul>
<li><p>data: numeric, character, binary, multimedia</p>
</li>
<li><p>program</p>
</li>
<li><p>device</p>
</li>
<li><p>proc file system</p>
<ul>
<li>file-system interface to retrieve system information</li>
</ul>
</li>
<li><p>…</p>
</li>
</ul>
</li>
</ul>

        <h1 id="File-Attributes"   >
          <a href="#File-Attributes" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-Attributes" class="headerlink" title="File Attributes"></a>File Attributes</h1>
      <ul>
<li>Name - the only information kept in human-readable form</li>
<li>Identifier - uniuqe tag (number) identifies file within file system</li>
<li>Type - needed for systems that support different types</li>
<li>Location - pointer to file location on device</li>
<li>Size - current file size</li>
<li>Protection - controls who can do reading, writing, executing</li>
<li>Time, date, and user identification - data for protection, securtiy, and usage monitoring</li>
<li>Many variations, including extended file attributes such as file checksum</li>
</ul>

        <h1 id="File-Operations"   >
          <a href="#File-Operations" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-Operations" class="headerlink" title="File Operations"></a>File Operations</h1>
      <ul>
<li>OS provides file operations to <ul>
<li>create:<ul>
<li>space in the file system should be found</li>
<li>an entry must be allocated in the directory</li>
</ul>
</li>
<li>open:<ul>
<li>return a handler for other perations</li>
<li>most operations need the file to be opened first</li>
</ul>
</li>
<li>read&#x2F;write:<ul>
<li>need to maintain a pointer</li>
</ul>
</li>
<li>repostion within file -seek</li>
<li>delete<ul>
<li>release file space</li>
</ul>
</li>
<li>truncate:<ul>
<li>shortening the length of a file. When truncated, its contents are preserved up to a certain point, after which any data that falls beyond that point is deleted or lost</li>
</ul>
</li>
<li>other operations can be implemented using these ones<ul>
<li>copy: create and read&#x2F;write</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h2 id="Open-Files"   >
          <a href="#Open-Files" class="heading-link"><i class="fas fa-link"></i></a><a href="#Open-Files" class="headerlink" title="Open Files"></a>Open Files</h2>
      <ul>
<li>Data needed to manage open files:<ul>
<li><p>File handle: a data structure that represents an open file. It countains information such as the file’s name, its current position in the file, and any file-related flags or attributes (such as read-only or write-through mode)</p>
</li>
<li><p>File descriptor: a small integer that identifier an open file within a process. It is used by the operating system to manage the file’s access permissions and to track its usage by various processes.</p>
</li>
<li><p>File table: a data structure that maintains a list of all open files in the system, along with their associated file handles and file descriptors.</p>
</li>
<li><p>File cache: A file cache is a portion of memory that the operating system uses to store recently accessed portions of open files.</p>
</li>
<li><p>Lock table: keeps track of which processes have locked which files and ensures that conflicting lock requests are resolved appropriately.</p>
</li>
<li><p>I&#x2F;O buffer: a portion of memory that is used to temporarily store file data as it is read or written. The OS typically uses a pool of I&#x2F;O buffers to improve file access performance and to minimize disk accesses.</p>
</li>
</ul>
</li>
</ul>

        <h2 id="File-Types-Name-Extension"   >
          <a href="#File-Types-Name-Extension" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-Types-Name-Extension" class="headerlink" title="File Types - Name, Extension"></a>File Types - Name, Extension</h2>
      <p><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330161548.png"></p>

        <h1 id="Access-Methods"   >
          <a href="#Access-Methods" class="heading-link"><i class="fas fa-link"></i></a><a href="#Access-Methods" class="headerlink" title="Access Methods"></a>Access Methods</h1>
      <ul>
<li>Sequential access<ul>
<li>a group of elements is access in a predetermined order</li>
<li>for some media types, the only access mode (e.g., tape)</li>
</ul>
</li>
<li>Direct access<ul>
<li>access an element at an arbitrary position in a sequence in (roughly) equal time,<br>independent of sequence size<ul>
<li>it is possible to emulate random access in a tape, but access time varies</li>
</ul>
</li>
<li>sometime called random access<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330161900.png"></li>
</ul>
</li>
</ul>

        <h1 id="Directory-Structure"   >
          <a href="#Directory-Structure" class="heading-link"><i class="fas fa-link"></i></a><a href="#Directory-Structure" class="headerlink" title="Directory Structure"></a>Directory Structure</h1>
      <ul>
<li>Directory: a collection of nodes containing information about files<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330161944.png"></li>
</ul>

        <h2 id="A-Typical-File-system-Organization"   >
          <a href="#A-Typical-File-system-Organization" class="heading-link"><i class="fas fa-link"></i></a><a href="#A-Typical-File-system-Organization" class="headerlink" title="A Typical File-system Organization"></a>A Typical File-system Organization</h2>
      <ul>
<li>Operations performed on directory<ul>
<li>Search for a file</li>
<li>Create a file</li>
<li>Delete a file</li>
<li>List a directory</li>
<li>Rename a file</li>
<li>Traverse the file system</li>
<li>…<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330162131.png"></li>
</ul>
</li>
</ul>

        <h2 id="Directory-Organization"   >
          <a href="#Directory-Organization" class="heading-link"><i class="fas fa-link"></i></a><a href="#Directory-Organization" class="headerlink" title="Directory Organization"></a>Directory Organization</h2>
      <ul>
<li>Organize the directory (logically) to obtain<ul>
<li>Efficiency – locating a file quickly</li>
<li>Naming – convenient to users<ul>
<li>Two users can have the same name for different files</li>
<li>The same file can have several different names</li>
</ul>
</li>
<li>Grouping – logical grouping of files by properties, (e.g., all Java programs, all games, …)</li>
</ul>
</li>
</ul>

        <h2 id="Single-Level-Directory"   >
          <a href="#Single-Level-Directory" class="heading-link"><i class="fas fa-link"></i></a><a href="#Single-Level-Directory" class="headerlink" title="Single-Level Directory"></a>Single-Level Directory</h2>
      <ul>
<li>A single directory for all users<ul>
<li>naming problems and grouping problems<ul>
<li>Two users want to have same file names</li>
<li>Hard to group files<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330162440.png"></li>
</ul>
</li>
</ul>
</li>
</ul>

        <h2 id="Two-Level-Directory"   >
          <a href="#Two-Level-Directory" class="heading-link"><i class="fas fa-link"></i></a><a href="#Two-Level-Directory" class="headerlink" title="Two-Level Directory"></a>Two-Level Directory</h2>
      <ul>
<li>Separate directory for each user<ul>
<li>different users can have the same name for different files<ul>
<li>Each user has his own user file directory (UFD), it is in the master file directory (MFD)</li>
</ul>
</li>
<li>efficient to search</li>
<li>cannot group files</li>
<li>How to share files between different users, and how to share the system files?<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330162657.png"></li>
</ul>
</li>
</ul>

        <h2 id="Tree-Structured-Directories"   >
          <a href="#Tree-Structured-Directories" class="heading-link"><i class="fas fa-link"></i></a><a href="#Tree-Structured-Directories" class="headerlink" title="Tree-Structured Directories"></a>Tree-Structured Directories</h2>
      <ul>
<li><p>Files organizaed into trees</p>
<ul>
<li>efficient in searching, can group files, convenient naming<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330162713.png"></li>
</ul>
</li>
<li><p>File can be accessed using absolute or relative path name</p>
<ul>
<li>absolute path name: &#x2F;home&#x2F;alice&#x2F;..</li>
<li>relative path is relative to the current directory (pwd)<ul>
<li>creating a new file, delete a file, or create a sub-directory<ul>
<li>e.g., if current directory is &#x2F;mail, a mkdir count will create &#x2F;mail&#x2F;count</li>
</ul>
</li>
</ul>
</li>
<li>How to share a file&#x2F;directory?<ul>
<li>It’s not allowed</li>
</ul>
</li>
</ul>
</li>
<li><p>Delete directory</p>
<ul>
<li>If directory is empty, then it’s easy to handle</li>
<li>If not<ul>
<li>Option I: directory cannot be deleted, unless it’s empty</li>
<li>Option II: delete all the files, directories and sub-directories</li>
<li>rm -rf &#x2F;</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h2 id="Acyclic-Graph-Directories"   >
          <a href="#Acyclic-Graph-Directories" class="heading-link"><i class="fas fa-link"></i></a><a href="#Acyclic-Graph-Directories" class="headerlink" title="Acyclic-Graph Directories"></a>Acyclic-Graph Directories</h2>
      <ul>
<li>Organize directories into acyclic-graphs<ul>
<li>Allow links to a directory entry&#x2F;files for<br>aliasing (no longer a tree)</li>
</ul>
</li>
<li>Dangling pointer problem<ul>
<li>e.g., if delete file &#x2F;dict&#x2F;all, then &#x2F;dict&#x2F;w&#x2F;list and &#x2F;spell&#x2F;words&#x2F;list are dangling pointers</li>
<li>Solution: backpointers&#x2F;reference counter</li>
</ul>
</li>
<li>backpointers record all the pointers to the entity, a variable size record</li>
<li>Or count <code>#</code> of links to it and only (physically) delete it when counter is zero</li>
</ul>

        <h3 id="Hardlink"   >
          <a href="#Hardlink" class="heading-link"><i class="fas fa-link"></i></a><a href="#Hardlink" class="headerlink" title="Hardlink"></a>Hardlink</h3>
      <ul>
<li>Accesses the data available in the original file</li>
<li>If earlier selected file deleted, the hard link still<br>contain the data of that file<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330163347.png"><br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330163538.png"></li>
</ul>

        <h3 id="Softlink-Symblic-link"   >
          <a href="#Softlink-Symblic-link" class="heading-link"><i class="fas fa-link"></i></a><a href="#Softlink-Symblic-link" class="headerlink" title="Softlink(Symblic link)"></a>Softlink(Symblic link)</h3>
      <ul>
<li>Does not access the data available in the original file</li>
<li>If earlier file deleted, the soft link will point to a file that does not exist anymore<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330163449.png"><br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330163552.png"></li>
</ul>

        <h2 id="General-Graph-Directory"   >
          <a href="#General-Graph-Directory" class="heading-link"><i class="fas fa-link"></i></a><a href="#General-Graph-Directory" class="headerlink" title="General Graph Directory"></a>General Graph Directory</h2>
      <ul>
<li>Allowing arbitrary links may generate cycles in the directory structure<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330164007.png"></li>
<li>Solution<ul>
<li>Allow cycles, but use garbage collection to reclaim disk spaces</li>
<li>Detect the cycle every time a new link is added</li>
</ul>
</li>
</ul>

        <h1 id="File"   >
          <a href="#File" class="heading-link"><i class="fas fa-link"></i></a><a href="#File" class="headerlink" title="File"></a>File</h1>
      
        <h2 id="File-System-Mounting"   >
          <a href="#File-System-Mounting" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-System-Mounting" class="headerlink" title="File System Mounting"></a>File System Mounting</h2>
      <ul>
<li>A file system must be mounted before it can be accessed<ul>
<li>Mounting a file system attaches that file system to a directory (mount point) and makes it available to the system</li>
</ul>
</li>
<li>The root (&#x2F;) file system is always mounted. Any other file system can be connected or disconnected from the root (&#x2F;) file system<ul>
<li>The old directories connected to the mount point becomes invisible<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330164554.png"></li>
</ul>
</li>
</ul>

        <h2 id="File-Sharing"   >
          <a href="#File-Sharing" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-Sharing" class="headerlink" title="File Sharing"></a>File Sharing</h2>
      <ul>
<li>Sharing of files on multi-user systems is desirable<ul>
<li>Sharing must be done through a protection scheme<ul>
<li>User IDs identify users, allowing protections to be per user</li>
<li>Group IDs allow users to be in groups, permitting group access rights</li>
</ul>
</li>
<li>On distributed systems, files may be shared across a network<ul>
<li>Network File System (NFS) is a common distributed filesharing method</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h2 id="Remote-File-Sharing"   >
          <a href="#Remote-File-Sharing" class="heading-link"><i class="fas fa-link"></i></a><a href="#Remote-File-Sharing" class="headerlink" title="Remote File Sharing"></a>Remote File Sharing</h2>
      <ul>
<li>Use networking to allow file system access between systems<ul>
<li>manually via programs like FTP (File Transfer Protocol) clients</li>
<li>automatically, seamlessly using distributed file systems</li>
<li>semi-automatically via the world wide web (e.g., hyperlinked documents)</li>
</ul>
</li>
<li>Client-server model allows clients to mount remote FS from servers<ul>
<li>a server can serve multiple clients</li>
<li>client and user-on-client identification is complicated</li>
</ul>
</li>
<li>server cannot assume the client is trusted</li>
<li>standard OS file calls are translated into remote calls</li>
<li>NFS (Network File System) is standard for UNIX</li>
<li>CIFS (Common Internet File System) is standard for Windows</li>
</ul>

        <h2 id="Protection"   >
          <a href="#Protection" class="heading-link"><i class="fas fa-link"></i></a><a href="#Protection" class="headerlink" title="Protection"></a>Protection</h2>
      <ul>
<li>File owner&#x2F;creator should be able to control<br>– what can be done<br>– by whom</li>
<li>Types of access<br>– read<br>– write, append<br>– execute<br>– delete<br>– list</li>
</ul>

        <h1 id="Access-Countrol-List"   >
          <a href="#Access-Countrol-List" class="heading-link"><i class="fas fa-link"></i></a><a href="#Access-Countrol-List" class="headerlink" title="Access Countrol List"></a>Access Countrol List</h1>
      <ul>
<li>Assign each file and directory with an access control list (ACL)</li>
<li>Fine-grained control</li>
<li>Issues<ul>
<li>How to construct the list?</li>
<li>How to store the list in directory?</li>
</ul>
</li>
<li>Not widely used in modern file systems</li>
</ul>

        <h2 id="Unix-Access-Control"   >
          <a href="#Unix-Access-Control" class="heading-link"><i class="fas fa-link"></i></a><a href="#Unix-Access-Control" class="headerlink" title="Unix Access Control"></a>Unix Access Control</h2>
      <ul>
<li>Three access modes: read, write, execute (encoded in three bits)</li>
<li>Three classes of users: owner, group and others<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170020.png"></li>
<li>To grant access to users, change access mode<ul>
<li>E.g., use chmod<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170059.png"></li>
</ul>
</li>
</ul>

        <h2 id="File-Access-Control-Examples"   >
          <a href="#File-Access-Control-Examples" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-Access-Control-Examples" class="headerlink" title="File Access Control Examples"></a>File Access Control Examples</h2>
      <p><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170126.png"></p>

        <h1 id="File-System-Structure"   >
          <a href="#File-System-Structure" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-System-Structure" class="headerlink" title="File-System Structure"></a>File-System Structure</h1>
      <ul>
<li>File structure<br>– Logical storage unit<br>– Collection of related information</li>
<li>File system on secondary storage (disks)<br>– Provides user interface to storage, mapping logical to physical<br>– Provides efficient and convenient access to disk by allowing data to be stored,<br>located retrieved easily</li>
<li>File control block (FCB): structure consisting of information of a file<br>– E.g., Unix inode structure</li>
<li>Device driver controls the physical device</li>
</ul>

        <h2 id="File-System-Layers"   >
          <a href="#File-System-Layers" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-System-Layers" class="headerlink" title="File System Layers"></a>File System Layers</h2>
      <ul>
<li><p>File system organized into layers<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170313.png"></p>
</li>
<li><p>Device drivers manage I&#x2F;O devices at the I&#x2F;O control layer</p>
<ul>
<li>Receive commands like “read drive1, cylinder 72, track 2, sector 10, into memory location 1060”</li>
<li>Outputs low-level hardware-specific commands to hardware controller</li>
</ul>
</li>
<li><p>Basic file system given command like “retrieve block 123” translates to device driver</p>
<ul>
<li>Also manages memory buffers and caches<br>(allocation, freeing, replacement)</li>
</ul>
</li>
<li><p>Buffers hold data in transit</p>
</li>
<li><p>Caches hold frequently used data</p>
</li>
<li><p>File-organization module understands files, logical address, and physical blocks</p>
<ul>
<li>Translates logical block # to physical block #</li>
<li>Manages free space</li>
</ul>
</li>
<li><p>maintains the list of free blocks, and allocates free blocks to files as needed</p>
</li>
<li><p>Logical file system manages metadata information</p>
<ul>
<li>The level at which users can request file operations by system calls</li>
<li>Provides a consistent view of what might be multiple physical file systems and multiple file system implementations</li>
<li>Translates file name into file number, file handle, location by maintaining file control blocks</li>
<li>Directory management</li>
<li>Protection</li>
</ul>
</li>
<li><p>Many file systems, sometimes many within an OS</p>
<ul>
<li>CD-ROM is ISO 9660</li>
<li>Unix has UFS, FFS</li>
<li>Windows has FAT, FAT32, NTFS</li>
<li>Linux has more than 130 types, with extended file system ext3 and ext4 leading; plus distributed file systems, etc.</li>
<li>New ones still arriving – ZFS, GoogleFS, Oracle ASM, FUSE</li>
<li>… …</li>
</ul>
</li>
</ul>

        <h2 id="File-Control-Block-FCB"   >
          <a href="#File-Control-Block-FCB" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-Control-Block-FCB" class="headerlink" title="File Control Block (FCB)"></a>File Control Block (FCB)</h2>
      <ul>
<li>OS maintains FCB per file, contains many details about the file<ul>
<li>E.g., inode number, permissions, size, dates</li>
<li>Example<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330170820.png"></li>
</ul>
</li>
</ul>

        <h2 id="Structures-to-Implement-a-File-System"   >
          <a href="#Structures-to-Implement-a-File-System" class="heading-link"><i class="fas fa-link"></i></a><a href="#Structures-to-Implement-a-File-System" class="headerlink" title="Structures to Implement a File System"></a>Structures to Implement a File System</h2>
      <ul>
<li>On-Disk<ul>
<li>Boot control block per volume</li>
<li>Volume control block per volume</li>
<li>Directory structure per file system</li>
<li>A FCB per file</li>
</ul>
</li>
<li>In-memory<ul>
<li>In-memory mount table with entries for each mounted volume</li>
<li>In-memory directory structure cache</li>
<li>System-wide open-file table : contain FCB, etc<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330171007.png"></li>
</ul>
</li>
</ul>

        <h2 id="Inode"   >
          <a href="#Inode" class="heading-link"><i class="fas fa-link"></i></a><a href="#Inode" class="headerlink" title="Inode"></a>Inode</h2>
      <ul>
<li>An inode is a data structure in Unix that denotes a file or a directory on file system<ul>
<li>It contains information about file, such as location of file on the disk, access mode, ownership, file type …</li>
</ul>
</li>
<li>Each inode has a number that is used in the index table<ul>
<li>Unix kernel uses inode number to access the contents of an inode<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330171239.png"></li>
</ul>
</li>
</ul>

        <h1 id="Directory-Implementation"   >
          <a href="#Directory-Implementation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Directory-Implementation" class="headerlink" title="Directory Implementation"></a>Directory Implementation</h1>
      <ul>
<li>Linear list of file names with pointer to the data blocks<ul>
<li>simple to program</li>
<li>time-consuming to execute<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330171542.png"></li>
</ul>
</li>
<li>Hash Table: linear list with hash data structure<ul>
<li>hash function on the file name determines the key directory</li>
</ul>
</li>
<li>Potential collisions<ul>
<li>decreases directory search time</li>
<li>fixed size<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330171652.png"></li>
</ul>
</li>
</ul>

        <h2 id="File-Creation"   >
          <a href="#File-Creation" class="heading-link"><i class="fas fa-link"></i></a><a href="#File-Creation" class="headerlink" title="File Creation"></a>File Creation</h2>
      <ul>
<li>Application process requests the creation of a new file</li>
<li>Logical file system allocates a new FCB</li>
<li>Appropriate directory updated with the new file name and FCB</li>
<li>Disk blocks allocated for files</li>
</ul>

        <h2 id="Allocation-Methods"   >
          <a href="#Allocation-Methods" class="heading-link"><i class="fas fa-link"></i></a><a href="#Allocation-Methods" class="headerlink" title="Allocation Methods"></a>Allocation Methods</h2>
      <ul>
<li>Allocation method: how disk blocks are allocated for files</li>
<li>The main problem is how to allocate space to files so that disk space is utilized effectively and files can be accessed quickly</li>
<li>Three major methods:<ul>
<li>Contiguous allocation</li>
<li>Linked allocation</li>
<li>Indexed allocation</li>
</ul>
</li>
</ul>

        <h3 id="Contiguous-Allocation"   >
          <a href="#Contiguous-Allocation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Contiguous-Allocation" class="headerlink" title="Contiguous Allocation"></a>Contiguous Allocation</h3>
      <ul>
<li><p>Each file occupies a set of contiguous blocks on the disk</p>
</li>
<li><p>Simple – only starting location (block #) and length (number of blocks) are required</p>
</li>
<li><p>Random access</p>
<ul>
<li>the address of the kth block starting at block b can easily be obtained as (b+k)<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172200.png"></li>
</ul>
</li>
<li><p>Advantages:</p>
<ul>
<li>Both the Sequential and Random Accesses are supported</li>
<li>Extremely fast since the number of seeks are minimal because of contiguous allocation of file blocks</li>
</ul>
</li>
<li><p>Disadvantages:</p>
<ul>
<li>Suffers external fragmentation (similar to memory allocation)</li>
</ul>
</li>
<li><p>Increasing file size is difficult as it depends on the availability of contiguous space</p>
</li>
</ul>

        <h3 id="Linked-Allocation"   >
          <a href="#Linked-Allocation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linked-Allocation" class="headerlink" title="Linked Allocation"></a>Linked Allocation</h3>
      <ul>
<li><p>Linked allocation: each file is a linked list of disk blocks</p>
<ul>
<li>each block contains pointer to next block, file ends at null pointer</li>
<li>blocks may be scattered anywhere on the disk (no external fragmentation)<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172359.png"></li>
</ul>
</li>
<li><p>Advantages</p>
<ul>
<li>Flexible in terms of file size</li>
<li>Does not suffer from external fragmentation</li>
</ul>
</li>
<li><p>Disadvantages</p>
<ul>
<li>Slow: locating a file block can take many I&#x2F;Os and disk seeks</li>
</ul>
</li>
<li><p>Possible improvements: cluster blocks; however, has internal fragmentation</p>
<ul>
<li>Does not support random&#x2F;direct access</li>
<li>Pointer size overhead</li>
<li>Reliability: what if the pointer has corrupted</li>
</ul>
</li>
</ul>

        <h3 id="Flie-Allocation-Table"   >
          <a href="#Flie-Allocation-Table" class="heading-link"><i class="fas fa-link"></i></a><a href="#Flie-Allocation-Table" class="headerlink" title="Flie Allocation Table"></a>Flie Allocation Table</h3>
      <ul>
<li>A file allocation table (FAT) is a table that an OS maintains on a disk that provides a map of the blocks that a file is stored in</li>
<li>Example:<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172809.png"><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172827.png"><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330172845.png"></li>
</ul>

        <h3 id="Index-Allocation"   >
          <a href="#Index-Allocation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Index-Allocation" class="headerlink" title="Index Allocation"></a>Index Allocation</h3>
      <ul>
<li><p>Indexed allocation: each file<br>has its own index blocks of<br>pointers to its data blocks</p>
</li>
<li><p>Advantages:</p>
<ul>
<li>Fast</li>
<li>Supports random&#x2F;direct access to the blocks</li>
<li>No external fragmentation</li>
</ul>
</li>
<li><p>Disadvantages:</p>
<ul>
<li>The pointer overhead for indexed allocation is greater than linked allocation</li>
<li>for very small files, say files that expand only 2-3 blocks, the indexed allocation would keep one entire block (index block) for the pointers<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173012.png"></li>
</ul>
</li>
<li><p>Multiple-level index blocks (e.g., 2-level)<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173155.png"></p>
</li>
<li><p>Combined approach</p>
<ul>
<li>Used in Unix<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173242.png"></li>
</ul>
</li>
</ul>

        <h2 id="Extent-Based-Systems"   >
          <a href="#Extent-Based-Systems" class="heading-link"><i class="fas fa-link"></i></a><a href="#Extent-Based-Systems" class="headerlink" title="Extent-Based Systems"></a>Extent-Based Systems</h2>
      <ul>
<li>Many new file systems (e.g., Veritas File System) use a partially contiguous allocation scheme</li>
<li>Extent-based file systems allocate disk blocks in extents</li>
<li>An extent is a contiguous block of disks<ul>
<li>Extents are allocated for file allocation</li>
<li>A file consists of one or more extents</li>
</ul>
</li>
<li>Mitigate external fragmentation<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173516.png"></li>
</ul>

        <h2 id="Free-Space-Management"   >
          <a href="#Free-Space-Management" class="heading-link"><i class="fas fa-link"></i></a><a href="#Free-Space-Management" class="headerlink" title="Free-Space Management"></a>Free-Space Management</h2>
      <ul>
<li>File system maintains free-space list to track available blocks<ul>
<li>The space of deleted files should be reclaimed</li>
</ul>
</li>
<li>Many management methods:<ul>
<li>bit vector (bit map)</li>
<li>linked free space</li>
<li>…</li>
</ul>
</li>
</ul>

        <h2 id="Bitmap-Free-Space-Management"   >
          <a href="#Bitmap-Free-Space-Management" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bitmap-Free-Space-Management" class="headerlink" title="Bitmap Free-Space Management"></a>Bitmap Free-Space Management</h2>
      <ul>
<li>Use one bit for each block, track its allocation status<ul>
<li>Searching contiguous blocks is easy&#x2F;efficient</li>
<li>requires extra space</li>
</ul>
</li>
<li>example:<ul>
<li>block size &#x3D; 4KB &#x3D; 212 bytes</li>
<li>disk size &#x3D; 240 bytes (1 terabyte)</li>
<li>n &#x3D; 240&#x2F;212 &#x3D; 228 bits (or 256 MB)<br><code>&gt;&gt;</code> if clusters of 4 blocks -&gt; 64MB of memory<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230330173849.png"></li>
</ul>
</li>
</ul>

        <h2 id="Linked-Free-Space"   >
          <a href="#Linked-Free-Space" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linked-Free-Space" class="headerlink" title="Linked Free Space"></a>Linked Free Space</h2>
      <ul>
<li><p>Keep free blocks in linked list</p>
<ul>
<li>no wate of space, just use the memory in the free block for pinters</li>
<li>usually no need to traverse the entire list:<br>return the first one</li>
<li>cannot get contiguous space easily</li>
</ul>
</li>
<li><p>Simple linked list of free-space is inefficient</p>
<ul>
<li><p>one extra disk I&#x2F;O to allocate one free block disk</p>
<ul>
<li>I&#x2F;O is extremely slow</li>
</ul>
</li>
<li><p>allocating multiple free blocks require traverse the list</p>
</li>
<li><p>difficult to allocate contiguous free blocks<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230406154351.png"></p>
</li>
</ul>
</li>
</ul>

        <h2 id="Grouping"   >
          <a href="#Grouping" class="heading-link"><i class="fas fa-link"></i></a><a href="#Grouping" class="headerlink" title="Grouping"></a>Grouping</h2>
      <ul>
<li>Grouping: using indexs to group free blocks<ul>
<li>stroe address of n-1 free blocks in the first free block, and the next index block</li>
</ul>
</li>
<li>…<br><img src="https://raw.githubusercontent.com/LemonKAI/image/main/20230406154517.png"></li>
</ul>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文結束，感謝您的閱讀 ------</div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://lemonkai.github.io/tags/CS3103/">CS3103</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://lemonkai.github.io/tags/Operating-System/">Operating System</a></span></div><nav class="post-paginator paginator"><div class="paginator-next"><a class="paginator-next__link" href="/2023/03/23/CS3103-Lecture-8/"><span class="paginator-prev__text">CS1303-Lecture-8</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div><div class="comments" id="comments"><div id="utterances-container"></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目錄</span><span class="sidebar-nav-ov">本站概覽</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#File-Concept"><span class="toc-number">1.</span> <span class="toc-text">
          File Concept</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#File-Attributes"><span class="toc-number">2.</span> <span class="toc-text">
          File Attributes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#File-Operations"><span class="toc-number">3.</span> <span class="toc-text">
          File Operations</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Open-Files"><span class="toc-number">3.1.</span> <span class="toc-text">
          Open Files</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#File-Types-Name-Extension"><span class="toc-number">3.2.</span> <span class="toc-text">
          File Types - Name, Extension</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Access-Methods"><span class="toc-number">4.</span> <span class="toc-text">
          Access Methods</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Directory-Structure"><span class="toc-number">5.</span> <span class="toc-text">
          Directory Structure</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-Typical-File-system-Organization"><span class="toc-number">5.1.</span> <span class="toc-text">
          A Typical File-system Organization</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Directory-Organization"><span class="toc-number">5.2.</span> <span class="toc-text">
          Directory Organization</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Single-Level-Directory"><span class="toc-number">5.3.</span> <span class="toc-text">
          Single-Level Directory</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Two-Level-Directory"><span class="toc-number">5.4.</span> <span class="toc-text">
          Two-Level Directory</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tree-Structured-Directories"><span class="toc-number">5.5.</span> <span class="toc-text">
          Tree-Structured Directories</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Acyclic-Graph-Directories"><span class="toc-number">5.6.</span> <span class="toc-text">
          Acyclic-Graph Directories</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Hardlink"><span class="toc-number">5.6.1.</span> <span class="toc-text">
          Hardlink</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Softlink-Symblic-link"><span class="toc-number">5.6.2.</span> <span class="toc-text">
          Softlink(Symblic link)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#General-Graph-Directory"><span class="toc-number">5.7.</span> <span class="toc-text">
          General Graph Directory</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#File"><span class="toc-number">6.</span> <span class="toc-text">
          File</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#File-System-Mounting"><span class="toc-number">6.1.</span> <span class="toc-text">
          File System Mounting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#File-Sharing"><span class="toc-number">6.2.</span> <span class="toc-text">
          File Sharing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Remote-File-Sharing"><span class="toc-number">6.3.</span> <span class="toc-text">
          Remote File Sharing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Protection"><span class="toc-number">6.4.</span> <span class="toc-text">
          Protection</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Access-Countrol-List"><span class="toc-number">7.</span> <span class="toc-text">
          Access Countrol List</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Unix-Access-Control"><span class="toc-number">7.1.</span> <span class="toc-text">
          Unix Access Control</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#File-Access-Control-Examples"><span class="toc-number">7.2.</span> <span class="toc-text">
          File Access Control Examples</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#File-System-Structure"><span class="toc-number">8.</span> <span class="toc-text">
          File-System Structure</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#File-System-Layers"><span class="toc-number">8.1.</span> <span class="toc-text">
          File System Layers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#File-Control-Block-FCB"><span class="toc-number">8.2.</span> <span class="toc-text">
          File Control Block (FCB)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Structures-to-Implement-a-File-System"><span class="toc-number">8.3.</span> <span class="toc-text">
          Structures to Implement a File System</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Inode"><span class="toc-number">8.4.</span> <span class="toc-text">
          Inode</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Directory-Implementation"><span class="toc-number">9.</span> <span class="toc-text">
          Directory Implementation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#File-Creation"><span class="toc-number">9.1.</span> <span class="toc-text">
          File Creation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Allocation-Methods"><span class="toc-number">9.2.</span> <span class="toc-text">
          Allocation Methods</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Contiguous-Allocation"><span class="toc-number">9.2.1.</span> <span class="toc-text">
          Contiguous Allocation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linked-Allocation"><span class="toc-number">9.2.2.</span> <span class="toc-text">
          Linked Allocation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flie-Allocation-Table"><span class="toc-number">9.2.3.</span> <span class="toc-text">
          Flie Allocation Table</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Index-Allocation"><span class="toc-number">9.2.4.</span> <span class="toc-text">
          Index Allocation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extent-Based-Systems"><span class="toc-number">9.3.</span> <span class="toc-text">
          Extent-Based Systems</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Free-Space-Management"><span class="toc-number">9.4.</span> <span class="toc-text">
          Free-Space Management</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bitmap-Free-Space-Management"><span class="toc-number">9.5.</span> <span class="toc-text">
          Bitmap Free-Space Management</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linked-Free-Space"><span class="toc-number">9.6.</span> <span class="toc-text">
          Linked Free Space</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Grouping"><span class="toc-number">9.7.</span> <span class="toc-text">
          Grouping</span></a></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">Seize the Day</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">16</div><div class="sidebar-ov-state-item__name">歸檔</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">7</div><div class="sidebar-ov-state-item__name">分類</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">8</div><div class="sidebar-ov-state-item__name">標籤</div></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已閱讀了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>KAI</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script>function loadUtterances() {
  var d = document, s = d.createElement('script');
  var container = d.getElementById('utterances-container');

  if (!container) {
    return;
  }
  s.src = 'https://utteranc.es/client.js';
  s.setAttribute('repo', 'LemonKAI/KAIBlogComment');
  s.setAttribute('issue-term', 'title');
  s.setAttribute('label', 'utterances');
  s.setAttribute('theme', 'github-light');
  s.setAttribute('crossorigin', 'anonymous');
  s.setAttribute('async', '');
  if (false) {
    s.setAttribute('data-pjax-rm', '');
  }
  container.append(s);
}

if (false) {
  loadUtterances();
} else {
  window.addEventListener('DOMContentLoaded', loadUtterances, false);
}</script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>